<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Instagram Post Types - Social Widget</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
        }
        .test-info h3 {
            margin-top: 0;
            color: #1976d2;
        }
        .test-info ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .test-info li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Test Instagram Post Types</h1>
        
        <div class="test-info">
            <h3>üìã Tipos de Posts a Probar:</h3>
            <ul>
                <li><strong>VIDEO</strong>: Debe mostrar video con controles usando <code>video_url</code></li>
                <li><strong>CAROUSEL_ALBUM</strong>: Debe mostrar slider de im√°genes usando <code>carousel_images</code></li>
                <li><strong>IMAGE</strong>: Debe mostrar imagen simple como antes</li>
            </ul>
            <p><strong>Controles:</strong> Usa las flechas del teclado (‚Üê ‚Üí) para navegar entre posts y dentro del carousel</p>
        </div>

        <!-- Widget Container -->
        <div class="social-widget" data-widget-id="5"></div>
    </div>

    <!-- Social Widget Scripts -->
    <script src="/social-widget/social-widget.js"></script>
    
    <script>
        // Mock data para testing (simula la respuesta del API)
        const mockData = {
            "success": true,
            "widget": {
                "id": 5,
                "name": "Instagram Grid",
                "layout": "grid",
                "settings": {
                    "width": "100%",
                    "height": "auto",
                    "backgroundColor": "#FFFFFF",
                    "title": "Instagram Grid",
                    "postsToShow": 6,
                    "updateFrequency": 5
                }
            },
            "account": {
                "username": "Instagram",
                "platform": "instagram",
                "displayName": "Canal RCN",
                "accountId": "hrtjrjrtjerergehttjhewefwefw",
                "avatarUrl": null
            },
            "posts": [
                {
                    "id": "fake_ig_hrtjrjrtjerergehttjhewefwefw_1",
                    "url": "https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_1/",
                    "type": "CAROUSEL_ALBUM",
                    "title": "",
                    "metrics": {
                        "likes": 1621,
                        "views": 3242,
                        "shares": 32,
                        "comments": 129
                    },
                    "platform": "instagram",
                    "thumbnail": "https://picsum.photos/500x500?random=0",
                    "timestamp": "2025-07-11T03:56:09.593Z",
                    "embed_html": "<iframe src=\"https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_1/embed\" width=\"400\" height=\"400\"></iframe>",
                    "description": "¬°Momentos incre√≠bles! üì∏‚ú® #vida #momentos",
                    "carousel_images": [
                        "https://picsum.photos/500x500?random=0",
                        "https://picsum.photos/500x500?random=100",
                        "https://picsum.photos/500x500?random=200"
                    ]
                },
                {
                    "id": "fake_ig_hrtjrjrtjerergehttjhewefwefw_2",
                    "url": "https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_2/",
                    "type": "VIDEO",
                    "title": "",
                    "metrics": {
                        "likes": 1163,
                        "views": 5815,
                        "shares": 23,
                        "comments": 93
                    },
                    "duration": 44,
                    "platform": "instagram",
                    "thumbnail": "https://picsum.photos/400/400?random=101",
                    "timestamp": "2025-07-10T19:56:09.593Z",
                    "video_url": "https://ccpapp.xyz/video/1080_1080_24fps.mp4",
                    "embed_html": "<iframe src=\"https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_2/embed\" width=\"400\" height=\"400\"></iframe>",
                    "description": "Nuevo proyecto en camino üöÄ #trabajo #proyecto",
                    "thumbnail_url": "https://picsum.photos/400x400?random=1500"
                },
                {
                    "id": "fake_ig_hrtjrjrtjerergehttjhewefwefw_3",
                    "url": "https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_3/",
                    "type": "IMAGE",
                    "title": "",
                    "metrics": {
                        "likes": 778,
                        "views": 1556,
                        "shares": 15,
                        "comments": 62
                    },
                    "platform": "instagram",
                    "thumbnail": "https://picsum.photos/400/400?random=102",
                    "timestamp": "2025-07-10T11:56:09.593Z",
                    "embed_html": "<iframe src=\"https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_3/embed\" width=\"400\" height=\"400\"></iframe>",
                    "description": "D√≠a perfecto para crear contenido üì± #creatividad"
                },
                {
                    "id": "fake_ig_hrtjrjrtjerergehttjhewefwefw_4",
                    "url": "https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_4/",
                    "type": "VIDEO",
                    "title": "",
                    "metrics": {
                        "likes": 2002,
                        "views": 10010,
                        "shares": 40,
                        "comments": 160
                    },
                    "duration": 29,
                    "platform": "instagram",
                    "thumbnail": "https://picsum.photos/400/400?random=103",
                    "timestamp": "2025-07-10T03:56:09.593Z",
                    "video_url": "https://ccpapp.xyz/video/1280x720.mp4",
                    "embed_html": "<iframe src=\"https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_4/embed\" width=\"400\" height=\"400\"></iframe>",
                    "description": "Compartiendo mi pasi√≥n por la fotograf√≠a üì∑ #fotografia",
                    "thumbnail_url": "https://picsum.photos/400x400?random=3500"
                },
                {
                    "id": "fake_ig_hrtjrjrtjerergehttjhewefwefw_5",
                    "url": "https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_5/",
                    "type": "CAROUSEL_ALBUM",
                    "title": "",
                    "metrics": {
                        "likes": 1601,
                        "views": 3202,
                        "shares": 32,
                        "comments": 128
                    },
                    "platform": "instagram",
                    "thumbnail": "https://picsum.photos/500x500?random=4000",
                    "timestamp": "2025-07-09T19:56:09.593Z",
                    "embed_html": "<iframe src=\"https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_5/embed\" width=\"400\" height=\"400\"></iframe>",
                    "description": "Nuevas aventuras por venir üåü #aventura #vida",
                    "carousel_images": [
                        "https://picsum.photos/500x500?random=4000",
                        "https://picsum.photos/500x500?random=4100",
                        "https://picsum.photos/500x500?random=4200",
                        "https://picsum.photos/500x500?random=4300"
                    ]
                },
                {
                    "id": "fake_ig_hrtjrjrtjerergehttjhewefwefw_6",
                    "url": "https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_6/",
                    "type": "CAROUSEL_ALBUM",
                    "title": "",
                    "metrics": {
                        "likes": 621,
                        "views": 1242,
                        "shares": 12,
                        "comments": 49
                    },
                    "platform": "instagram",
                    "thumbnail": "https://picsum.photos/500x500?random=5000",
                    "timestamp": "2025-07-09T11:56:09.593Z",
                    "embed_html": "<iframe src=\"https://www.instagram.com/p/fake_ig_hrtjrjrtjerergehttjhewefwefw_6/embed\" width=\"400\" height=\"400\"></iframe>",
                    "description": "Trabajando en algo especial üí™ #trabajo #esfuerzo",
                    "carousel_images": [
                        "https://picsum.photos/500x500?random=5000",
                        "https://picsum.photos/500x500?random=5100",
                        "https://picsum.photos/500x500?random=5200",
                        "https://picsum.photos/500x500?random=5300",
                        "https://picsum.photos/500x500?random=5400",
                        "https://picsum.photos/500x500?random=5500"
                    ]
                }
            ],
            "metadata": {
                "totalPosts": 6,
                "dataSource": "fake_data_fallback",
                "lastSync": "2025-07-11T03:56:09.594Z",
                "nextSync": "2025-07-11T04:01:09.594Z",
                "renderUrl": "https://app.ccpapp.xyz/social-widgets/render/5",
                "generatedAt": "2025-07-11T04:00:12.463Z",
                "responseTime": "9ms",
                "version": "1.0"
            }
        };

        // Mock the API call for testing
        const originalFetch = window.fetch;
        window.fetch = function(url, options) {
            if (url.includes('/social-widgets/render/5')) {
                return Promise.resolve({
                    ok: true,
                    json: () => Promise.resolve(mockData)
                });
            }
            return originalFetch.apply(this, arguments);
        };

        // Initialize widget when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Test page loaded - Instagram post types testing');
        });
    </script>
</body>
</html> 